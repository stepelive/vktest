{"version":3,"sources":["js/panels/main/Base.js","js/panels/profile/Profile.js","App.js","index.js"],"names":["layerStyle","backgroundColor","position","top","left","width","height","touchStyle","backgroundPosition","backgroundSize","boxShadow","UserPicStyle","backgroundRepeat","overflow","margin","padding","interestsStyle","borderRadius","whiteSpace","interestsDeleteStyle","Cards","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","id","userInterests","user","debugServerInfo","users","myInterests","rot","moveBack","shiftX","shiftY","debugInfo","limitOffset","userPicBackgroundColor","sizeX","sizeY","halfX","minchange","startX","startY","renderInterests","bind","assertThisInitialized","onMove","refreshUsers","onEnd","getUsers","setState","window","innerWidth","innerHeight","e","rotation","t","axios","get","concat","then","x","JSON","stringify","data","catch","_this2","deb","Math","abs","agree","disAgree","first_name","setTimeout","splice","el","circleRef","interests","listItem","forEach","isCool","find","push","react_default","a","createElement","es6","style","objectSpread","title","lineHeight","_this$state","length","undefined","transformOrigin","transition","transform","textAlign","last_name","backgroundImage","onClick","_this$state2","_this$state3","React","Component","Profile","activeModal","openInterestsModal","loading","deNorm","renderUserInterests","setActiveModal","getInterests","renderModalInterests","deleteInterestFromCurrentUser","after","cancel_default","model","userId","interestId","post","_this3","addInterestToCurrentUser","add_default","target","value","_this4","modal1","popout","header","IS_PLATFORM_ANDROID","right","IS_PLATFORM_IOS","done_default","onInput","placeholder","modal","activePanel","size","before","src","photo_max_orig","initInterests","level","App","debug","activeStory","view","panel","history","userCards","avatar","ages","onStoryChange","renderDebug","connect","subscribe","detail","type","response","console","log","send","str","isCatch","res","c","currentTarget","dataset","tabbar","selected","data-view","text","user_default","users_default","message_default","settings_default","profile_Profile","Base","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.297a68e5.chunk.js","sourcesContent":["\r\nimport React from 'react';\r\nimport { PanelHeader, Group, Touch,List, Panel, Div, Button } from '@vkontakte/vkui';\r\nimport '@vkontakte/vkui/dist/vkui.css'\r\nimport axios from 'axios';\r\nconst image = \"https://xn-----6kckiwadblcgjxwwirci4z.xn--p1ai/image/cache/catalog/vse-kartinki/sobaka/sobaka-068-800x800.jpg\";\r\nconst layerStyle = {\r\n\tbackgroundColor: 'rgba(248, 247, 216, 0.1)',\r\n\tposition: 'absolute',\r\n\ttop: 0,\r\n\tleft: 0,\r\n\twidth: '100%',\r\n\theight: '100%',\r\n\t//transition: 'background-color .3s'\r\n}\r\n// eslint-disable-next-line\r\nconst userTwoStyle = {\r\n\tpadding: 0,\r\n\tbackgroundColor: '#f8f8f8',\r\n}\r\nconst touchStyle = {\r\n\tposition: 'absolute',\r\n\tbackgroundColor: '#f8f8f8',\r\n\tbackgroundPosition: 'center',\r\n\tbackgroundSize: '90%',\r\n\tboxShadow: '0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24)'\r\n\r\n}\r\nconst UserPicStyle = {\r\n\tbackgroundSize: 'contain',\r\n\tbackgroundRepeat: 'no-repeat',\r\n\toverflow: 'hidden',\r\n\tbackgroundPosition: 'center',\r\n\tmargin: 0,\r\n\tpadding: 0\r\n}\r\n\r\nconst interestsStyle = {\r\n\tbackgroundColor: '#29b6f6',\r\n\tborderRadius: 10,\r\n\tpadding: 5,\r\n\tmargin: 5,\r\n\twhiteSpace: 'nowrap'\r\n}\r\nconst interestsDeleteStyle = {\r\n\tbackgroundColor: '#f6b629',\r\n\tborderRadius: 10,\r\n\tpadding: 5,\r\n\tmargin: 5,\r\n\twhiteSpace: 'nowrap'\r\n}// eslint-disable-next-line\r\n\r\n\r\n\r\nclass Cards extends React.Component {\r\n\r\n\tconstructor(props) {\r\n\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tid: props.id,\r\n\t\t\tuserInterests: props.userInterests,\r\n\t\t\tuser: props.user,\r\n\t\t\tdebugServerInfo: props.debugServerInfo,\r\n\t\t\tusers: [],\r\n\t\t\tmyInterests: [\"Писить\", \"Кушоть\", \"Орать\"],\r\n\t\t\trot: 0,\r\n\t\t\tmoveBack: 0.1,\r\n\t\t\tshiftX: 0,\r\n\t\t\tshiftY: 0,\r\n\t\t\tdebugInfo: '',\r\n\t\t\tlimitOffset: 3,\r\n\t\t\tuserPicBackgroundColor: '',\r\n\t\t\tsizeX: 390,\r\n\t\t\tsizeY: 900,\r\n\t\t\thalfX: 390 / 10,\r\n\t\t\tminchange: 2\r\n\t\t}\r\n\t\tthis.startX = 0;\r\n\t\tthis.startY = 0;\r\n\t\tthis.renderInterests = this.renderInterests.bind(this);\r\n\r\n\t\tthis.onMove = this.onMove.bind(this);\r\n\t\tthis.refreshUsers = this.refreshUsers.bind(this);\r\n\t\tthis.onEnd = this.onEnd.bind(this);\r\n\t\tthis.getUsers = this.getUsers.bind(this);\r\n\r\n\t}\r\n\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.setState({ sizeX: window.innerWidth, sizeY: window.innerHeight });\r\n\t\tthis.getUsers();\r\n\t}\r\n\r\n\tonMove(e) {\r\n\t\tlet shiftX = this.startX + e.shiftX;\r\n\r\n\t\tlet rotation = shiftX / this.state.halfX;\r\n\r\n\r\n\t\tthis.setState({\r\n\t\t\trot: rotation,\r\n\t\t\tmoveBack: 0.1,\r\n\t\t\tshiftX: shiftX\r\n\t\t});\r\n\t}\r\n\tgetUsers(e) {\r\n\t\tvar t = this;\r\n\t\t\r\n\t\taxios.get(`https://salert.info/users/GetUsersTest/${this.state.user.id}`\r\n\t\t).then((x) => {\r\n\t\t\tt.setState({ debugInfo: `done-${JSON.stringify(x.data)}`, users: x.data });\r\n\t\t}).catch(function (x) {\r\n\t\t\tt.setState({ debugInfo: 'Ошибка ' + JSON.stringify(x) });\r\n\t\t});\r\n\t}\r\n\tonEnd(e) {\r\n\t\tvar deb = this.state.debugInfo;\r\n\t\tvar users = this.state.users;\r\n\t\tif (Math.abs(this.state.rot) < this.state.limitOffset) {\r\n\t\t\tthis.setState({ rot: 0, moveBack: 0.5, shiftX: 0, shiftY: 0 });\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (this.agree || this.disAgree) {\r\n\t\t\tif (this.agree) {\r\n\t\t\t\tdeb += `+${this.state.users[0].first_name}`;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tdeb += `-${this.state.users[0].first_name}`;\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\tvar rotation = this.state.rot > 0 ? 15 : -15;\r\n\r\n\t\tthis.setState({ userPicBackgroundColor: '', rot: rotation, debugInfo: deb, moveBack: 0.1, shiftX: 0, shiftY: 0 });\r\n\t\tsetTimeout(() => {\r\n\t\t\tusers.splice(0, 1);\r\n\t\t\tthis.setState({ rot: 0, users: users, moveBack: 0 });\r\n\t\t}, 100)\r\n\t}\r\n\r\n\r\n\r\n\trefreshUsers(e) {\r\n\t\tthis.getUsers();\r\n\t}\r\n\r\n\tgetCircleRef(el) { this.circleRef = el };\r\n\r\n\tget agree() {\r\n\t\tconst { shiftX, limitOffset } = this.state;\r\n\t\treturn Math.abs(shiftX) > limitOffset && shiftX > 0;\r\n\t}\r\n\tget disAgree() {\r\n\t\tconst { shiftX, limitOffset } = this.state;\r\n\t\treturn Math.abs(shiftX) > limitOffset && shiftX < 0;\r\n\t}\r\n\trenderInterests(interests) {\r\n\t\tvar listItem;// eslint-disable-next-line\r\n\t\tlistItem = [];\r\n\t\tvar userInterests = this.state.userInterests;\r\n\t\tinterests.forEach((e) => {\r\n\t\t\tvar isCool = userInterests.find((x)=>{return x.id === e.id});\r\n\r\n\t\t\tlistItem.push(<Button style={ isCool?{...interestsDeleteStyle}:{...interestsStyle} }>{e.title}</Button>);\r\n\t\t});\r\n\t\treturn <Div>\r\n\t\t\t<List style={{  lineHeight: '2.5' }}> {listItem}</List>\r\n\t\t</Div> \t\t\r\n\t};\r\n\r\n\trender() { // eslint-disable-next-line\r\n\t\tconst { id, debugServerInfo, refreshUsers, users, sizeX, sizeY, moveBack, debugInfo, userPicBackgroundColor, rot } = this.state;\r\n\t\treturn (\r\n\t\t\t<Panel id={id} style={{ overflow: 'hidden' }}>\r\n\t\t\t\t<PanelHeader>{rot}</PanelHeader>\r\n\t\t\t\t<Group>\r\n\t\t\t\t\t{users.length !== 0 && users[0] !== undefined &&\r\n\t\t\t\t\t\t<Touch\r\n\t\t\t\t\t\t\tonMove={this.onMove}\r\n\t\t\t\t\t\t\tonEnd={this.onEnd}\r\n\r\n\t\t\t\t\t\t\tstyle={{ ...touchStyle, transformOrigin: `center ${sizeY * 3}px`, width: sizeX, height: sizeY, transition: `transform ${moveBack}s ease-out`, transform: `rotate(${rot}deg)` }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Div style={{ height: '100%', padding: 0 }}>\r\n\t\t\t\t\t\t\t\t<div style={{ ...layerStyle, backgroundColor: userPicBackgroundColor, }}></div>\r\n\t\t\t\t\t\t\t\t<h1 style={{ textAlign: 'center' }}>\r\n\t\t\t\t\t\t\t\t\t<strong>{users[0].first_name} {users[0].last_name}</strong>\r\n\t\t\t\t\t\t\t\t</h1>\r\n\t\t\t\t\t\t\t\t<Div style={{ ...UserPicStyle, width: sizeX, height: sizeY / 4, backgroundImage: `url(${image})` }}></Div>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t{this.renderInterests(users[0].interests)}\r\n\r\n\t\t\t\t\t\t\t</Div>\r\n\t\t\t\t\t\t</Touch>\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t{/*users.length !== 0 && users[1] !== undefined &&\r\n\t\t\t\t\t\t<Div style={{ ...userTwoStyle, height: sizeY }}>\r\n\t\t\t\t\t\t\t<Div style={{ ...UserPicStyle, width: sizeX, height: sizeY / 2, backgroundImage: `url(${image})` }}></Div>\r\n\t\t\t\t\t\t\t<h1 style={{ textAlign: 'center' }}>\r\n\t\t\t\t\t\t\t\t<strong>{users[1].first_name} {users[1].last_name}</strong>\r\n\t\t\t\t\t\t\t</h1>\r\n\t\t\t\t\t\t\t{this.renderInterests(users[1].interests)}\r\n\t\t\t\t\t\t</Div>\r\n\r\n\r\n\t\t\t\t\t*/}\r\n\t\t\t\t\t{users.length === 0 &&\r\n\t\t\t\t\t\t<Group>\r\n\t\t\t\t\t\t\t<h1>Больше нету. Можешь сбросить </h1>\r\n\t\t\t\t\t\t\t<Button onClick={this.refreshUsers}>Сбросить</Button>\r\n\t\t\t\t\t\t\t<Div>{debugInfo}</Div>\r\n\t\t\t\t\t\t</Group>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t</Group>\r\n\r\n\t\t\t</Panel>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default Cards;","import React from 'react';\r\n// eslint-disable-next-line\r\nimport { Panel, Group, Button, Div, FormLayoutGroup, Radio, Checkbox, Cell, FormLayout, List, HeaderButton, ModalPageHeader, ModalPage, View, ModalRoot, Avatar, PanelHeader, Input, Select, ScreenSpinner } from '@vkontakte/vkui';\r\nimport Icon16Add from '@vkontakte/icons/dist/16/add';\r\nimport Icon16Cancel from '@vkontakte/icons/dist/16/cancel';\r\nimport axios from 'axios';\r\nimport { IS_PLATFORM_ANDROID, IS_PLATFORM_IOS } from '@vkontakte/vkui/dist/lib/platform';\r\nimport Icon24Done from '@vkontakte/icons/dist/24/done';\r\nimport '@vkontakte/vkui/dist/vkui.css'\r\nconst USER_INTERESTS_MODAL = 'user_interests';\r\n\r\nconst interestsStyle = {\r\n\tbackgroundColor: '#29b6f6',\r\n\tborderRadius: 10,\r\n\tpadding: 5,\r\n\tmargin: 5,\r\n\twhiteSpace: 'nowrap'\r\n}\r\nconst interestsDeleteStyle = {\r\n\tbackgroundColor: '#f6b629',\r\n\tborderRadius: 10,\r\n\tpadding: 5,\r\n\tmargin: 5,\r\n\twhiteSpace: 'nowrap'\r\n}// eslint-disable-next-line\r\nconst interestsInListStyle = {\r\n\tbackgroundColor: '#29b6f6',\r\n\tborderRadius: 10\r\n\r\n}\r\n\r\nclass Profile extends React.Component {\r\n\r\n\tconstructor(props) {\r\n\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tuserInterests: props.userInterests,\r\n\t\t\tactiveModal: null,\r\n\t\t\topenInterestsModal: props.openInterestsModal,\r\n\t\t\tid: props.id,\r\n\t\t\tuser: props.user,\r\n\t\t\tloading:false,\r\n\t\t\tinterests: [],\r\n\t\t\tdebugInfo: \"Тут дебаг\",\r\n\t\t\tdeNorm: \"Ну тесты\"\r\n\t\t}\r\n\t\tthis.renderUserInterests = this.renderUserInterests.bind(this);\r\n\t\tthis.setActiveModal = this.setActiveModal.bind(this);\r\n\t\tthis.getInterests = this.getInterests.bind(this);\r\n\t\tthis.renderModalInterests = this.renderModalInterests.bind(this);\r\n\t}\r\n\r\n\r\n\tcomponentDidMount() {\r\n\t}\r\n\t/*getSuggestions(e) {\r\n\t\tthis.setState({ debugInfo: JSON.stringify(e.target.value) });\r\n\t\tif (e.target.value.length < 2)\r\n\t\t\treturn;\r\n\t\telse {\r\n\t\t\tvar t = this;\r\n\t\t\taxios.get(`https://salert.info/interests/SearchFromQuery?str=${e.target.value}`,\r\n\t\t\t).then((x) => {\r\n\t\t\t\tt.setState({ debugInfo: JSON.stringify(x.data), interests: x.data });\r\n\t\t\t}).catch(function (x) {\r\n\t\t\t\tt.setState({ debugInfo: 'Ошибка ' + JSON.stringify(x) });\r\n\t\t\t});\r\n\t\t}\r\n\t}*/\r\n\trenderUserInterests() {\r\n\t\tvar listItem = [];\r\n\t\tthis.state.userInterests.forEach((e) => {\r\n\t\t\tlistItem.push(<Button style={{ ...interestsDeleteStyle }} onClick={() => this.deleteInterestFromCurrentUser(e.id)} after={<Icon16Cancel />}>{e.title}</Button>);\r\n\t\t});\r\n\t\treturn <Div>\r\n\t\t\t<List style={{ lineHeight: '2.5' }}> {listItem}</List>\r\n\t\t</Div>\r\n\t}\r\n\r\n\r\n\tsetActiveModal(e) {\r\n\r\n\t\tthis.setState({ activeModal: e })\r\n\t}\r\n\taddInterestToCurrentUser(id) {\r\n\t\tif(this.state.userInterests.length > 10){\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tvar t = this;\r\n\t\tthis.setState({loading:true});\r\n\t\tvar model = {\r\n\t\t\tuserId: this.state.user.id,\r\n\t\t\tinterestId: id\r\n\t\t}\r\n\t\taxios.post(`https://salert.info/interests/AddInterest`, model\r\n\t\t).then((x) => {\r\n\t\t\tt.setState({loading:false, debugInfo: `done-${JSON.stringify(x.data)}`, userInterests: x.data });\r\n\t\t}).catch(function (x) {\r\n\t\t\tt.setState({ loading:false, debugInfo: 'Ошибка ' + JSON.stringify(x) });\r\n\t\t});\r\n\t}\r\n\tdeleteInterestFromCurrentUser(id) {\r\n\t\tvar t = this;\r\n\t\tvar model = {\r\n\t\t\tuserId: this.state.user.id,\r\n\t\t\tinterestId: id\r\n\t\t}\r\n\t\tthis.setState({loading:true});\r\n\t\taxios.post(`https://salert.info/interests/DeleteInterest`, model\r\n\t\t).then((x) => {\r\n\t\t\tt.setState({loading:false, debugInfo: `done-${JSON.stringify(x.data)}`, userInterests: x.data });\r\n\t\t}).catch(function (x) {\r\n\t\t\tt.setState({ loading:false,debugInfo: 'Ошибка ' + JSON.stringify(x) });\r\n\t\t});\r\n\t}\r\n\trenderModalInterests() {\r\n\t\tif (this.state.interests == null) {\r\n\t\t\treturn \"Нет результатов\"\r\n\t\t}\r\n\t\telse {\r\n\t\t\tvar listItem = [];\r\n\t\t\tthis.state.interests.forEach((e) => {\r\n\t\t\t\tif (this.state.userInterests && this.state.userInterests.find((x) => { return x.id === e.id }) !== undefined) {\r\n\t\t\t\t\tlistItem.push(<Button style={{ ...interestsDeleteStyle }} onClick={() => this.deleteInterestFromCurrentUser(e.id)} after={<Icon16Cancel />}>{e.title}</Button>);\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tlistItem.push(<Button style={{ ...interestsStyle }} onClick={() => this.addInterestToCurrentUser(e.id)} after={<Icon16Add />}>{e.title}</Button>);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\treturn <Div>{listItem}</Div>\r\n\t\t}\r\n\t}\r\n\tinitInterests(e) {\r\n\t\tvar t = this;\r\n\t\taxios.get(`https://salert.info/interests/GetTopInterests`,\r\n\t\t).then((x) => {\r\n\t\t\tt.setState({ debugInfo: JSON.stringify(x.data), interests: x.data });\r\n\t\t}).catch(function (x) {\r\n\t\t\tt.setState({ debugInfo: 'Ошибка ' + JSON.stringify(x) });\r\n\t\t});\r\n\r\n\r\n\t}\r\n\tgetInterests(e) {\r\n\t\tif (e.target.value.length < 2) {\r\n\t\t\tthis.setState({ interests: null })\r\n\t\t\treturn;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tvar t = this;\r\n\t\t\taxios.get(`https://salert.info/interests/SearchFromQuery?str=${e.target.value}`,\r\n\t\t\t).then((x) => {\r\n\t\t\t\tt.setState({ debugInfo: JSON.stringify(x.data), interests: x.data });\r\n\t\t\t}).catch(function (x) {\r\n\t\t\t\tt.setState({ debugInfo: 'Ошибка ' + JSON.stringify(x) });\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t}\r\n\trender() { // eslint-disable-next-line\r\n\t\tconst { id, user,loading,  activeModal, debugInfo, userInterests, interests, deNorm } = this.state;\r\n\t\tconst modal1 = \r\n\t\t<ModalRoot activeModal={this.state.activeModal} popout={loading?<ScreenSpinner/>:null}>\r\n\t\t\t<ModalPage popout={loading?<ScreenSpinner/>:null}\r\n\t\t\t\tid={USER_INTERESTS_MODAL}\r\n\t\t\t\theader={\r\n\t\t\t\t\t<ModalPageHeader\r\n\t\t\t\t\t\tleft={IS_PLATFORM_ANDROID && <HeaderButton onClick={() => { this.setActiveModal(null) }}><Icon16Cancel /></HeaderButton>}\r\n\t\t\t\t\t\tright={<HeaderButton onClick={() => { this.setActiveModal(null) }}>{IS_PLATFORM_IOS ? 'Готово' : <Icon24Done />}</HeaderButton>}\r\n\t\t\t\t\t>Фильтры</ModalPageHeader>\r\n\t\t\t\t}>\r\n\r\n\t\t\t\t<FormLayout>\r\n\t\t\t\t\t<this.renderModalInterests></this.renderModalInterests>\r\n\t\t\t\t\t<FormLayoutGroup top=\"Поиск\" onInput={(e) => { this.getInterests(e) }}>\r\n\t\t\t\t\t\t<Input placeholder=\"Начните вводить\" />\r\n\t\t\t\t\t</FormLayoutGroup>\r\n\t\t\t\t</FormLayout>\r\n\t\t\t</ModalPage>\r\n\t\t</ModalRoot>\r\n\r\n\t\treturn (\r\n\t\t\t<View id={id} popout={loading?<ScreenSpinner/>:null} modal={modal1}  activePanel={id}>\r\n\t\t\t\t<Panel id={id} >\r\n\t\t\t\t\t<PanelHeader>\r\n\t\t\t\t\t\tПрофиль\r\n\t\t\t\t</PanelHeader>\r\n\t\t\t\t\t{user &&\r\n\t\t\t\t\t\t<Group title=\"Общие данные\">\r\n\t\t\t\t\t\t\t<Cell\r\n\t\t\t\t\t\t\t\tsize=\"m\"\r\n\t\t\t\t\t\t\t\tbefore={<Avatar src={user.photo_max_orig} size={80} />}>\r\n\t\t\t\t\t\t\t\t{user.first_name} {user.last_name}\r\n\t\t\t\t\t\t\t</Cell>\r\n\t\t\t\t\t\t</Group>\r\n\t\t\t\t\t}\r\n\t\t\t\t\t{user &&\r\n\t\t\t\t\t\t<Group title={`Интересы (${!userInterests ? 0 : userInterests.length}\\\\10)`}>\r\n\t\t\t\t\t\t\t{userInterests &&\r\n\r\n\r\n\t\t\t\t\t\t\t\t<this.renderUserInterests></this.renderUserInterests>\r\n\r\n\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t<Cell>\r\n\t\t\t\t\t\t\t\t<Button before={<Icon16Add />} onClick={() => { this.initInterests(); this.setActiveModal(USER_INTERESTS_MODAL) }} size=\"l\">Добавить</Button>\r\n\t\t\t\t\t\t\t</Cell>\r\n\t\t\t\t\t\t\t<Cell>\r\n\t\t\t\t\t\t\t\t{deNorm}\r\n\t\t\t\t\t\t\t</Cell>\r\n\t\t\t\t\t\t\t<Cell>\r\n\t\t\t\t\t\t\t\t{debugInfo}\r\n\t\t\t\t\t\t\t</Cell>\r\n\t\t\t\t\t\t\t<Cell>\r\n\t\t\t\t\t\t\t\t<Button level=\"secondary\" before={<Icon16Add />} size=\"l\">Shuffle</Button>\r\n\t\t\t\t\t\t\t</Cell>\r\n\r\n\t\t\t\t\t\t</Group>\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t</Panel>\r\n\t\t\t</View>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default Profile;","import Icon28User from '@vkontakte/icons/dist/28/user';\r\nimport Icon28Settings from '@vkontakte/icons/dist/28/settings';\r\nimport Icon28Message from '@vkontakte/icons/dist/28/message';\r\nimport Icon28Users from '@vkontakte/icons/dist/28/users';\r\nimport React from 'react';\r\nimport connect from '@vkontakte/vkui-connect';\r\nimport axios from 'axios';\r\n// eslint-disable-next-line\r\nimport { View, Div, PanelHeader, Epic, ModalRoot, ModalPage, ModalPageHeader, List, Cell, Avatar, HeaderButton, Group,\r\n   Tabbar, ScreenSpinner,  Panel, TabbarItem\r\n} from '@vkontakte/vkui';\r\n// eslint-disable-next-line\r\nimport { IS_PLATFORM_ANDROID, IS_PLATFORM_IOS } from '@vkontakte/vkui/dist/lib/platform';\r\nimport '@vkontakte/vkui/dist/vkui.css'\r\nimport Cards from './js/panels/main/Base';\r\nimport Profile from './js/panels/profile/Profile';\r\n\r\n\r\nclass App extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      debug: true,\r\n      activeStory: { view: 'loader', panel: 'loader' },\r\n      activeModal: null,\r\n      history: [{\r\n        view: 'loader',\r\n        panel: 'loader'\r\n      }],\r\n      user: undefined,\r\n      userInterests:[],\r\n      debugServerInfo: 'default',\r\n      userCards: [\r\n        {\r\n          id: 1,\r\n          avatar: \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRCCqxQ--DqnBS4npIj956y0KQZP2H1-ZdHmsEb4pH9CiVsATBUhg\",\r\n          first_name: \"Котэк\",\r\n          last_name: \"Котэков\",\r\n          ages: 15,\r\n          interests: [\"Лежать\", \"Муркать\", \"Облизываться\", \"Кушоть\", \"Орать\"]\r\n        },\r\n        {\r\n          id: 2,\r\n          avatar: \"https://xn-----6kckiwadblcgjxwwirci4z.xn--p1ai/image/cache/catalog/vse-kartinki/sobaka/sobaka-068-800x800.jpg\",\r\n          first_name: \"Пёсик\",\r\n          last_name: \"Пёсиков\",\r\n          ages: 3,\r\n          interests: [\"Гавкать\", \"Будить рано\", \"Писить\", \"Бегать\", \"Бегать\"]\r\n        },\r\n        {\r\n          id: 3,\r\n          avatar: \"https://xn-----6kckiwadblcgjxwwirci4z.xn--p1ai/image/cache/catalog/vse-kartinki/sobaka/sobaka-068-800x800.jpg\",\r\n          first_name: \"Второй пёсик\",\r\n          last_name: \"Пёсиков\",\r\n          ages: 3,\r\n          interests: [\"Гавкать\", \"Будить рано\", \"Писить\", \"Бегать\", \"Бегать\"]\r\n        },\r\n        {\r\n          id: 4,\r\n          avatar: \"https://xn-----6kckiwadblcgjxwwirci4z.xn--p1ai/image/cache/catalog/vse-kartinki/sobaka/sobaka-068-800x800.jpg\",\r\n          first_name: \"Ещё один пёсик\",\r\n          last_name: \"Пёсиков\",\r\n          ages: 3,\r\n          interests: [\"Гавкать\", \"Будить рано\", \"Писить\", \"Бегать\", \"Бегать\"]\r\n        }\r\n      ]\r\n\r\n    };\r\n    this.onStoryChange = this.onStoryChange.bind(this);\r\n    this.renderDebug = this.renderDebug.bind(this);\r\n\r\n  }\r\n  componentDidMount() {\r\n    connect.subscribe((e) => {\r\n      switch (e.detail.type) {\r\n        case 'VKWebAppGetUserInfoResult':\r\n          this.setState({ user: e.detail.data });\r\n          var t = this;\r\n          axios.post(`https://salert.info/user/GetUserData`,e.detail.data).then(\r\n            (response)=>{\r\n              axios.get(`https://salert.info/interests/GetInterests/${e.detail.data.id}`, \r\n              ).then((x) => {\r\n                t.renderDebug(x.data, false);\r\n              }).catch(function (x) {\r\n                t.renderDebug(x, true);\r\n              });\r\n            }\r\n            ).catch((response)=>{              \r\n              t.renderDebug(response, true);\r\n            }); \r\n\r\n         \r\n          break;\r\n        default:\r\n          console.log(e.detail.type);\r\n\r\n\r\n      }\r\n    });\r\n    connect.send('VKWebAppGetUserInfo', {});\r\n  }\r\n  renderDebug(str, isCatch) {\r\n    var res = isCatch?'Ошибка ':'Нормальный ответ ';\r\n    if(!isCatch){\r\n      this.setState({userInterests:str})\r\n    }\r\n    this.setState({ debugServerInfo:  res+ JSON.stringify(str), activeStory: { view: 'info', panel: 'info' } });\r\n  }\r\n  onStoryChange(e) {\r\n    var c = this.state.activeStory;\r\n    c.view = e.currentTarget.dataset.view;\r\n    this.setState({ activeStory: c })\r\n  }\r\n\r\n  render() {\r\n    const { user, activeModal, userCards, userInterests } = this.state;\r\n   \r\n\r\n    return (\r\n      <Epic activeStory={this.state.activeStory.view} tabbar={\r\n        <Tabbar>\r\n          <TabbarItem\r\n            onClick={this.onStoryChange}\r\n            selected={this.state.activeStory.view === 'info'}\r\n            data-view='info'\r\n            text=\"Профиль\"\r\n          ><Icon28User /></TabbarItem>\r\n\r\n          <TabbarItem\r\n            onClick={this.onStoryChange}\r\n            selected={this.state.activeStory.view === 'cards'}\r\n            data-view='cards'\r\n            text=\"Карточки\"\r\n          ><Icon28Users /></TabbarItem>\r\n\r\n\r\n          <TabbarItem\r\n            onClick={this.onStoryChange}\r\n            selected={this.state.activeStory.view === 'base'}\r\n            data-view='base'\r\n            text=\"Сообщения\"\r\n          ><Icon28Message /></TabbarItem>\r\n          <TabbarItem\r\n            onClick={this.onStoryChange}\r\n            selected={this.state.activeStory.view === 'settings'}\r\n            data-view='settings'\r\n            text=\"Настройки\"\r\n          ><Icon28Settings /></TabbarItem>\r\n          <TabbarItem\r\n            onClick={this.onStoryChange}\r\n            selected={this.state.activeStory.view === 'debug'}\r\n            data-view='debug'\r\n            text=\"Дебаг\"\r\n          ><Icon28Settings /></TabbarItem>\r\n        </Tabbar>\r\n      }>\r\n        <View id='loader' popout={<ScreenSpinner />} activePanel=\"loader\">\r\n          <Panel id='loader'>\r\n            <PanelHeader>Загрузка...</PanelHeader>\r\n          </Panel>\r\n        </View>\r\n        <Profile activeModal={activeModal} userInterests={userInterests} id='info'  user={user}></Profile>\r\n\r\n\r\n        <View id='cards' activePanel='cards'>\r\n          <Cards id='cards' user={user} userInterests={userInterests} userCards={userCards} debugServerInfo={this.state.debugServerInfo}></Cards>\r\n        </View>\r\n        <View id='debug' activePanel='debug'>\r\n          <Panel id='debug' >\r\n            <PanelHeader>Debug</PanelHeader>\r\n            <Div>\r\n              {activeModal}\r\n              {this.state.debugServerInfo}\r\n            </Div>\r\n\r\n          </Panel>\r\n        </View>\r\n\r\n\r\n\r\n      </Epic>\r\n    )\r\n  }\r\n}\r\n\r\nexport default App;","import 'core-js/es6/map';\r\nimport 'core-js/es6/set';\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport connect from '@vkontakte/vkui-connect';\r\nimport App from './App';\r\n// import registerServiceWorker from './sw';\r\n\r\n// Init VK App\r\nconnect.send('VKWebAppInit', {});\r\n\r\n// Если вы хотите, чтобы ваше веб-приложение работало в оффлайне и загружалось быстрее,\r\n// расскомментируйте строку с registerServiceWorker();\r\n// Но не забывайте, что на данный момент у технологии есть достаточно подводных камней\r\n// Подробнее про сервис воркеры можно почитать тут — https://vk.cc/8MHpmT \r\n// registerServiceWorker();\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}