{"version":3,"sources":["js/panels/main/Base.js","js/panels/profile/Profile.js","App.js","index.js"],"names":["layerStyle","backgroundColor","position","top","left","width","height","interestsStyle","borderRadius","padding","margin","whiteSpace","touchStyle","backgroundPosition","backgroundSize","boxShadow","UserPicStyle","backgroundRepeat","overflow","Cards","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","id","userInterests","user","debugServerInfo","users","myInterests","rot","moveBack","shiftX","shiftY","debugInfo","limitOffset","userPicBackgroundColor","sizeX","sizeY","halfX","minchange","startX","startY","renderInterests","bind","assertThisInitialized","onMove","refreshUsers","onEnd","getUsers","setState","window","innerWidth","innerHeight","e","rotation","t","axios","get","concat","then","x","JSON","stringify","data","catch","_this2","deb","Math","abs","agree","disAgree","first_name","setTimeout","splice","el","circleRef","interests","listItem","forEach","bgStyle","undefined","find","push","react_default","a","createElement","style","objectSpread","title","es6","lineHeight","textAlign","_this$state","length","transformOrigin","transition","transform","backgroundImage","last_name","onClick","_this$state2","_this$state3","React","Component","interestsDeleteStyle","Profile","activeModal","openInterestsModal","deNorm","renderUserInterests","setActiveModal","getInterests","renderModalInterests","deleteInterestFromCurrentUser","after","cancel_default","model","userId","interestId","post","_this3","addInterestToCurrentUser","add_default","target","value","_this4","modal1","header","IS_PLATFORM_ANDROID","right","IS_PLATFORM_IOS","done_default","onInput","placeholder","modal","activePanel","size","before","src","photo_max_orig","level","App","debug","activeStory","view","panel","history","userCards","avatar","ages","onStoryChange","renderDebug","connect","subscribe","detail","type","response","console","log","send","str","isCatch","res","c","currentTarget","dataset","tabbar","selected","data-view","text","user_default","users_default","message_default","settings_default","popout","profile_Profile","Base","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.45ebdebb.chunk.js","sourcesContent":["\r\nimport React from 'react';\r\nimport { PanelHeader, Group, Touch, Panel, Div, Button } from '@vkontakte/vkui';\r\nimport '@vkontakte/vkui/dist/vkui.css'\r\nimport axios from 'axios';\r\nconst image = \"https://xn-----6kckiwadblcgjxwwirci4z.xn--p1ai/image/cache/catalog/vse-kartinki/sobaka/sobaka-068-800x800.jpg\";\r\nconst layerStyle = {\r\n\tbackgroundColor: 'rgba(248, 247, 216, 0.1)',\r\n\tposition: 'absolute',\r\n\ttop: 0,\r\n\tleft: 0,\r\n\twidth: '100%',\r\n\theight: '100%',\r\n\t//transition: 'background-color .3s'\r\n}\r\nconst interestsStyle = {\r\n\tbackgroundColor: '#29b6f6',\r\n\tborderRadius: 10,\r\n\tpadding: 5,\r\n\tmargin: 5,\r\n\twhiteSpace: 'nowrap'\r\n\r\n}\r\nconst userTwoStyle = {\r\n\tpadding: 0,\r\n\tbackgroundColor: '#f8f8f8',\r\n}\r\nconst touchStyle = {\r\n\tposition: 'absolute',\r\n\tbackgroundColor: '#f8f8f8',\r\n\tbackgroundPosition: 'center',\r\n\tbackgroundSize: '90%',\r\n\tboxShadow: '0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24)'\r\n\r\n}\r\nconst UserPicStyle = {\r\n\tbackgroundSize: 'contain',\r\n\tbackgroundRepeat: 'no-repeat',\r\n\toverflow: 'hidden',\r\n\tbackgroundPosition: 'center',\r\n\tmargin: 0,\r\n\tpadding: 0\r\n}\r\n\r\n\r\n\r\nclass Cards extends React.Component {\r\n\r\n\tconstructor(props) {\r\n\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tid: props.id,\r\n\t\t\tuserInterests: props.userInterests,\r\n\t\t\tuser: props.user,\r\n\t\t\tdebugServerInfo: props.debugServerInfo,\r\n\t\t\tusers: [],\r\n\t\t\tmyInterests: [\"Писить\", \"Кушоть\", \"Орать\"],\r\n\t\t\trot: 0,\r\n\t\t\tmoveBack: 0.1,\r\n\t\t\tshiftX: 0,\r\n\t\t\tshiftY: 0,\r\n\t\t\tdebugInfo: '',\r\n\t\t\tlimitOffset: 3,\r\n\t\t\tuserPicBackgroundColor: '',\r\n\t\t\tsizeX: 390,\r\n\t\t\tsizeY: 900,\r\n\t\t\thalfX: 390 / 10,\r\n\t\t\tminchange: 2\r\n\t\t}\r\n\t\tthis.startX = 0;\r\n\t\tthis.startY = 0;\r\n\t\tthis.renderInterests = this.renderInterests.bind(this);\r\n\r\n\t\tthis.onMove = this.onMove.bind(this);\r\n\t\tthis.refreshUsers = this.refreshUsers.bind(this);\r\n\t\tthis.onEnd = this.onEnd.bind(this);\r\n\t\tthis.getUsers = this.getUsers.bind(this);\r\n\r\n\t}\r\n\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.setState({ sizeX: window.innerWidth, sizeY: window.innerHeight });\r\n\t\tthis.getUsers();\r\n\t}\r\n\r\n\tonMove(e) {\r\n\t\tlet shiftX = this.startX + e.shiftX;\r\n\r\n\t\tlet rotation = shiftX / this.state.halfX;\r\n\r\n\r\n\t\tthis.setState({\r\n\t\t\trot: rotation,\r\n\t\t\tmoveBack: 0.1,\r\n\t\t\tshiftX: shiftX\r\n\t\t});\r\n\t}\r\n\tgetUsers(e) {\r\n\t\tvar t = this;\r\n\t\t\r\n\t\taxios.get(`https://salert.info/users/GetUsersTest/${this.state.user.id}`\r\n\t\t).then((x) => {\r\n\t\t\tt.setState({ debugInfo: `done-${JSON.stringify(x.data)}`, users: x.data });\r\n\t\t}).catch(function (x) {\r\n\t\t\tt.setState({ debugInfo: 'Ошибка ' + JSON.stringify(x) });\r\n\t\t});\r\n\t}\r\n\tonEnd(e) {\r\n\t\tvar deb = this.state.debugInfo;\r\n\t\tvar users = this.state.users;\r\n\t\tif (Math.abs(this.state.rot) < this.state.limitOffset) {\r\n\t\t\tthis.setState({ rot: 0, moveBack: 0.5, shiftX: 0, shiftY: 0 });\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (this.agree || this.disAgree) {\r\n\t\t\tif (this.agree) {\r\n\t\t\t\tdeb += `+${this.state.users[0].first_name}`;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tdeb += `-${this.state.users[0].first_name}`;\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\tvar rotation = this.state.rot > 0 ? 15 : -15;\r\n\r\n\t\tthis.setState({ userPicBackgroundColor: '', rot: rotation, debugInfo: deb, moveBack: 0.1, shiftX: 0, shiftY: 0 });\r\n\t\tsetTimeout(() => {\r\n\t\t\tusers.splice(0, 1);\r\n\t\t\tthis.setState({ rot: 0, users: users, moveBack: 0 });\r\n\t\t}, 100)\r\n\t}\r\n\r\n\r\n\r\n\trefreshUsers(e) {\r\n\t\tthis.getUsers();\r\n\t}\r\n\r\n\tgetCircleRef(el) { this.circleRef = el };\r\n\r\n\tget agree() {\r\n\t\tconst { shiftX, limitOffset } = this.state;\r\n\t\treturn Math.abs(shiftX) > limitOffset && shiftX > 0;\r\n\t}\r\n\tget disAgree() {\r\n\t\tconst { shiftX, limitOffset } = this.state;\r\n\t\treturn Math.abs(shiftX) > limitOffset && shiftX < 0;\r\n\t}\r\n\trenderInterests(interests) {\r\n\t\tvar listItem;// eslint-disable-next-line\r\n\t\tvar dCount = 0;\r\n\t\tlistItem = [];\r\n\t\tvar userInterests = this.state.userInterests;\r\n\t\tinterests.forEach((e) => {\r\n\t\t\tvar bgStyle = interestsStyle.backgroundColor;\r\n\r\n\t\t\tif (userInterests.find((x) => { return x.id == e.id }) !== undefined) {\r\n\t\t\t\tbgStyle = '#0000ff';\r\n\t\t\t}\r\n\t\t\tlistItem.push(<span style={{ ...interestsStyle, backgroundColor: bgStyle }}>{e.title}</span>);\r\n\t\t}\r\n\t\t);\r\n\t\treturn <Div style={{ lineHeight: '2.5', textAlign: 'center' }}>{listItem}</Div>\r\n\t};\r\n\r\n\trender() { // eslint-disable-next-line\r\n\t\tconst { id, debugServerInfo, refreshUsers, users, sizeX, sizeY, moveBack, debugInfo, userPicBackgroundColor, rot } = this.state;\r\n\t\treturn (\r\n\t\t\t<Panel id={id} style={{ overflow: 'hidden' }}>\r\n\t\t\t\t<PanelHeader>{rot}</PanelHeader>\r\n\t\t\t\t<Group>\r\n\t\t\t\t\t{users.length !== 0 && users[0] !== undefined &&\r\n\t\t\t\t\t\t<Touch\r\n\t\t\t\t\t\t\tonMove={this.onMove}\r\n\t\t\t\t\t\t\tonEnd={this.onEnd}\r\n\r\n\t\t\t\t\t\t\tstyle={{ ...touchStyle, transformOrigin: `center ${sizeY * 3}px`, width: sizeX, height: sizeY, transition: `transform ${moveBack}s ease-out`, transform: `rotate(${rot}deg)` }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Div style={{ height: '100%', padding: 0 }}>\r\n\t\t\t\t\t\t\t\t<div style={{ ...layerStyle, backgroundColor: userPicBackgroundColor, }}></div>\r\n\t\t\t\t\t\t\t\t<Div style={{ ...UserPicStyle, width: sizeX, height: sizeY / 2, backgroundImage: `url(${image})` }}></Div>\r\n\t\t\t\t\t\t\t\t<h1 style={{ textAlign: 'center' }}>\r\n\t\t\t\t\t\t\t\t\t<strong>{users[0].first_name} {users[0].last_name}</strong>\r\n\t\t\t\t\t\t\t\t</h1>\r\n\t\t\t\t\t\t\t\t{this.renderInterests(users[0].interests)}\r\n\r\n\t\t\t\t\t\t\t</Div>\r\n\t\t\t\t\t\t</Touch>\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t{/*users.length !== 0 && users[1] !== undefined &&\r\n\t\t\t\t\t\t<Div style={{ ...userTwoStyle, height: sizeY }}>\r\n\t\t\t\t\t\t\t<Div style={{ ...UserPicStyle, width: sizeX, height: sizeY / 2, backgroundImage: `url(${image})` }}></Div>\r\n\t\t\t\t\t\t\t<h1 style={{ textAlign: 'center' }}>\r\n\t\t\t\t\t\t\t\t<strong>{users[1].first_name} {users[1].last_name}</strong>\r\n\t\t\t\t\t\t\t</h1>\r\n\t\t\t\t\t\t\t{this.renderInterests(users[1].interests)}\r\n\t\t\t\t\t\t</Div>\r\n\r\n\r\n\t\t\t\t\t*/}\r\n\t\t\t\t\t{users.length === 0 &&\r\n\t\t\t\t\t\t<Group>\r\n\t\t\t\t\t\t\t<h1>Больше нету. Можешь сбросить </h1>\r\n\t\t\t\t\t\t\t<Button onClick={this.refreshUsers}>Сбросить</Button>\r\n\t\t\t\t\t\t\t<Div>{debugInfo}</Div>\r\n\t\t\t\t\t\t</Group>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t</Group>\r\n\r\n\t\t\t</Panel>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default Cards;","import React from 'react';\r\n// eslint-disable-next-line\r\nimport { Panel, Group, Button, Div, FormLayoutGroup, Radio, Checkbox, Cell, FormLayout, List, HeaderButton, ModalPageHeader, ModalPage, View, ModalRoot, Avatar, PanelHeader, Input, Select } from '@vkontakte/vkui';\r\nimport Icon16Add from '@vkontakte/icons/dist/16/add';\r\nimport Icon16Cancel from '@vkontakte/icons/dist/16/cancel';\r\nimport axios from 'axios';\r\nimport { IS_PLATFORM_ANDROID, IS_PLATFORM_IOS } from '@vkontakte/vkui/dist/lib/platform';\r\nimport Icon24Done from '@vkontakte/icons/dist/24/done';\r\nimport '@vkontakte/vkui/dist/vkui.css'\r\nconst USER_INTERESTS_MODAL = 'user_interests';\r\n\r\nconst interestsStyle = {\r\n\tbackgroundColor: '#29b6f6',\r\n\tborderRadius: 10,\r\n\tpadding: 5,\r\n\tmargin: 5,\r\n\twhiteSpace: 'nowrap'\r\n}\r\nconst interestsDeleteStyle = {\r\n\tbackgroundColor: '#f6b629',\r\n\tborderRadius: 10,\r\n\tpadding: 5,\r\n\tmargin: 5,\r\n\twhiteSpace: 'nowrap'\r\n}\r\nconst interestsInListStyle = {\r\n\tbackgroundColor: '#29b6f6',\r\n\tborderRadius: 10\r\n\r\n}\r\n\r\nclass Profile extends React.Component {\r\n\r\n\tconstructor(props) {\r\n\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tuserInterests: props.userInterests,\r\n\t\t\tactiveModal: null,\r\n\t\t\topenInterestsModal: props.openInterestsModal,\r\n\t\t\tid: props.id,\r\n\t\t\tuser: props.user,\r\n\t\t\tinterests: [],\r\n\t\t\tdebugInfo: \"Тут дебаг\",\r\n\t\t\tdeNorm: \"Ну тесты\"\r\n\t\t}\r\n\t\tthis.renderUserInterests = this.renderUserInterests.bind(this);\r\n\t\tthis.setActiveModal = this.setActiveModal.bind(this);\r\n\t\tthis.getInterests = this.getInterests.bind(this);\r\n\t\tthis.renderModalInterests = this.renderModalInterests.bind(this);\r\n\t}\r\n\r\n\r\n\tcomponentDidMount() {\r\n\t}\r\n\t/*getSuggestions(e) {\r\n\t\tthis.setState({ debugInfo: JSON.stringify(e.target.value) });\r\n\t\tif (e.target.value.length < 2)\r\n\t\t\treturn;\r\n\t\telse {\r\n\t\t\tvar t = this;\r\n\t\t\taxios.get(`https://salert.info/interests/SearchFromQuery?str=${e.target.value}`,\r\n\t\t\t).then((x) => {\r\n\t\t\t\tt.setState({ debugInfo: JSON.stringify(x.data), interests: x.data });\r\n\t\t\t}).catch(function (x) {\r\n\t\t\t\tt.setState({ debugInfo: 'Ошибка ' + JSON.stringify(x) });\r\n\t\t\t});\r\n\t\t}\r\n\t}*/\r\n\trenderUserInterests() {\r\n\t\tvar listItem = [];\r\n\t\tthis.state.userInterests.forEach((e) => {\r\n\t\t\tlistItem.push(<Button style={{ ...interestsDeleteStyle }} onClick={() => this.deleteInterestFromCurrentUser(e.id)} after={<Icon16Cancel />}>{e.title}</Button>);\r\n\t\t});\r\n\t\treturn <Div>\r\n\t\t\t<List style={{  lineHeight: '2.5' }}> {listItem}</List>\r\n\t\t</Div> \r\n\t}\r\n\r\n\r\n\tsetActiveModal(e) {\r\n\r\n\t\tthis.setState({ activeModal: e })\r\n\t}\r\n\taddInterestToCurrentUser(id) {\r\n\t\tvar t = this;\r\n\t\tvar model = {\r\n\t\t\tuserId: this.state.user.id,\r\n\t\t\tinterestId: id\r\n\t\t}\r\n\t\taxios.post(`https://salert.info/interests/AddInterest`, model\r\n\t\t).then((x) => {\r\n\t\t\tt.setState({ debugInfo: `done-${JSON.stringify(x.data)}`, userInterests: x.data });\r\n\t\t}).catch(function (x) {\r\n\t\t\tt.setState({ debugInfo: 'Ошибка ' + JSON.stringify(x) });\r\n\t\t});\r\n\t}\r\n\tdeleteInterestFromCurrentUser(id) {\r\n\t\tvar t = this;\r\n\t\tvar model = {\r\n\t\t\tuserId: this.state.user.id,\r\n\t\t\tinterestId: id\r\n\t\t}\r\n\t\taxios.post(`https://salert.info/interests/DeleteInterest`, model\r\n\t\t).then((x) => {\r\n\t\t\tt.setState({ debugInfo: `done-${JSON.stringify(x.data)}`, userInterests: x.data });\r\n\t\t}).catch(function (x) {\r\n\t\t\tt.setState({ debugInfo: 'Ошибка ' + JSON.stringify(x) });\r\n\t\t});\r\n\t}\r\n\trenderModalInterests() {\r\n\t\tif (this.state.interests == null) {\r\n\t\t\treturn \"Нет результатов\"\r\n\t\t}\r\n\t\telse {\r\n\t\t\tvar listItem = [];\r\n\t\t\tthis.state.interests.forEach((e) => {\r\n\t\t\t\tif (this.state.userInterests && this.state.userInterests.find( (x) =>{return x.id == e.id})!= undefined ) {\r\n\t\t\t\t\tlistItem.push(<Button style={{ ...interestsDeleteStyle }} onClick={() => this.deleteInterestFromCurrentUser(e.id)} after={<Icon16Cancel />}>{e.title}</Button>);\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tlistItem.push(<Button style={{ ...interestsStyle }} onClick={() => this.addInterestToCurrentUser(e.id)} after={<Icon16Add />}>{e.title}</Button>);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\treturn <Div>{listItem}</Div>\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tgetInterests(e) {\r\n\t\tif (e.target.value.length < 2) {\r\n\t\t\tthis.setState({ interests: null })\r\n\t\t\treturn;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tvar t = this;\r\n\t\t\taxios.get(`https://salert.info/interests/SearchFromQuery?str=${e.target.value}`,\r\n\t\t\t).then((x) => {\r\n\t\t\t\tt.setState({ debugInfo: JSON.stringify(x.data), interests: x.data });\r\n\t\t\t}).catch(function (x) {\r\n\t\t\t\tt.setState({ debugInfo: 'Ошибка ' + JSON.stringify(x) });\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t}\r\n\r\n\trender() { // eslint-disable-next-line\r\n\t\tconst { id, user, activeModal, debugInfo, userInterests, interests, deNorm } = this.state;\r\n\r\n\r\n\r\n\t\tconst modal1 = <ModalRoot activeModal={this.state.activeModal}>\r\n\t\t\t<ModalPage\r\n\t\t\t\tid={USER_INTERESTS_MODAL}\r\n\t\t\t\theader={\r\n\t\t\t\t\t<ModalPageHeader\r\n\t\t\t\t\t\tleft={IS_PLATFORM_ANDROID && <HeaderButton onClick={() => { this.setActiveModal(null) }}><Icon16Cancel /></HeaderButton>}\r\n\t\t\t\t\t\tright={<HeaderButton onClick={() => { this.setActiveModal(null) }}>{IS_PLATFORM_IOS ? 'Готово' : <Icon24Done />}</HeaderButton>}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tФильтры\r\n            </ModalPageHeader>\r\n\t\t\t\t}\r\n\t\t\t>\r\n\r\n\t\t\t\t<FormLayout>\r\n\t\t\t\t\t<this.renderModalInterests></this.renderModalInterests>\r\n\t\t\t\t\t<FormLayoutGroup top=\"Поиск\" onInput={(e) => { this.getInterests(e) }}>\r\n\t\t\t\t\t\t<Input placeholder=\"Начните вводить\" />\r\n\t\t\t\t\t</FormLayoutGroup>\r\n\t\t\t\t\t<Cell>{debugInfo}</Cell>\r\n\t\t\t\t</FormLayout>\r\n\t\t\t</ModalPage>\r\n\t\t</ModalRoot>\r\n\r\n\r\n\r\n\r\n\r\n\t\treturn (\r\n\t\t\t<View id={id} modal={modal1} activePanel={id}>\r\n\t\t\t\t<Panel id={id} >\r\n\t\t\t\t\t<PanelHeader>\r\n\t\t\t\t\t\tПрофиль\r\n\t\t\t\t</PanelHeader>\r\n\t\t\t\t\t{user &&\r\n\t\t\t\t\t\t<Group title=\"Общие данные\">\r\n\t\t\t\t\t\t\t<Cell\r\n\t\t\t\t\t\t\t\tsize=\"m\"\r\n\t\t\t\t\t\t\t\tbefore={<Avatar src={user.photo_max_orig} size={80} />}>\r\n\t\t\t\t\t\t\t\t{user.first_name} {user.last_name}\r\n\t\t\t\t\t\t\t</Cell>\r\n\t\t\t\t\t\t</Group>\r\n\t\t\t\t\t}\r\n\t\t\t\t\t{user &&\r\n\t\t\t\t\t\t<Group title={`Интересы (${!userInterests ? 0 : userInterests.length}\\\\20)`}>\r\n\t\t\t\t\t\t\t{userInterests &&\r\n\r\n\r\n\t\t\t\t\t\t\t\t<this.renderUserInterests></this.renderUserInterests>\r\n\r\n\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t<Cell>\r\n\t\t\t\t\t\t\t\t<Button before={<Icon16Add />} onClick={() => { this.setActiveModal(USER_INTERESTS_MODAL) }} size=\"l\">Добавить</Button>\r\n\t\t\t\t\t\t\t</Cell>\r\n\t\t\t\t\t\t\t<Cell>\r\n\t\t\t\t\t\t\t\t{deNorm}\r\n\t\t\t\t\t\t\t</Cell>\r\n\t\t\t\t\t\t\t<Cell>\r\n\t\t\t\t\t\t\t\t{debugInfo}\r\n\t\t\t\t\t\t\t</Cell>\r\n\t\t\t\t\t\t\t<Cell>\r\n\t\t\t\t\t\t\t\t<Button level=\"secondary\" before={<Icon16Add />} size=\"l\">Shuffle</Button>\r\n\t\t\t\t\t\t\t</Cell>\r\n\r\n\t\t\t\t\t\t</Group>\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t</Panel>\r\n\t\t\t</View>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default Profile;","import Icon28User from '@vkontakte/icons/dist/28/user';\r\nimport Icon28Settings from '@vkontakte/icons/dist/28/settings';\r\nimport Icon28Message from '@vkontakte/icons/dist/28/message';\r\nimport Icon28Users from '@vkontakte/icons/dist/28/users';\r\nimport React from 'react';\r\nimport connect from '@vkontakte/vkui-connect';\r\nimport axios from 'axios';\r\n// eslint-disable-next-line\r\nimport { View, Div, PanelHeader, Epic, ModalRoot, ModalPage, ModalPageHeader, List, Cell, Avatar, HeaderButton, Group,\r\n   Tabbar, ScreenSpinner,  Panel, TabbarItem\r\n} from '@vkontakte/vkui';\r\n// eslint-disable-next-line\r\nimport { IS_PLATFORM_ANDROID, IS_PLATFORM_IOS } from '@vkontakte/vkui/dist/lib/platform';\r\nimport '@vkontakte/vkui/dist/vkui.css'\r\nimport Cards from './js/panels/main/Base';\r\nimport Profile from './js/panels/profile/Profile';\r\n\r\n\r\nclass App extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      debug: true,\r\n      activeStory: { view: 'loader', panel: 'loader' },\r\n      activeModal: null,\r\n      history: [{\r\n        view: 'loader',\r\n        panel: 'loader'\r\n      }],\r\n      user: undefined,\r\n      userInterests:[],\r\n      debugServerInfo: 'default',\r\n      userCards: [\r\n        {\r\n          id: 1,\r\n          avatar: \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRCCqxQ--DqnBS4npIj956y0KQZP2H1-ZdHmsEb4pH9CiVsATBUhg\",\r\n          first_name: \"Котэк\",\r\n          last_name: \"Котэков\",\r\n          ages: 15,\r\n          interests: [\"Лежать\", \"Муркать\", \"Облизываться\", \"Кушоть\", \"Орать\"]\r\n        },\r\n        {\r\n          id: 2,\r\n          avatar: \"https://xn-----6kckiwadblcgjxwwirci4z.xn--p1ai/image/cache/catalog/vse-kartinki/sobaka/sobaka-068-800x800.jpg\",\r\n          first_name: \"Пёсик\",\r\n          last_name: \"Пёсиков\",\r\n          ages: 3,\r\n          interests: [\"Гавкать\", \"Будить рано\", \"Писить\", \"Бегать\", \"Бегать\"]\r\n        },\r\n        {\r\n          id: 3,\r\n          avatar: \"https://xn-----6kckiwadblcgjxwwirci4z.xn--p1ai/image/cache/catalog/vse-kartinki/sobaka/sobaka-068-800x800.jpg\",\r\n          first_name: \"Второй пёсик\",\r\n          last_name: \"Пёсиков\",\r\n          ages: 3,\r\n          interests: [\"Гавкать\", \"Будить рано\", \"Писить\", \"Бегать\", \"Бегать\"]\r\n        },\r\n        {\r\n          id: 4,\r\n          avatar: \"https://xn-----6kckiwadblcgjxwwirci4z.xn--p1ai/image/cache/catalog/vse-kartinki/sobaka/sobaka-068-800x800.jpg\",\r\n          first_name: \"Ещё один пёсик\",\r\n          last_name: \"Пёсиков\",\r\n          ages: 3,\r\n          interests: [\"Гавкать\", \"Будить рано\", \"Писить\", \"Бегать\", \"Бегать\"]\r\n        }\r\n      ]\r\n\r\n    };\r\n    this.onStoryChange = this.onStoryChange.bind(this);\r\n    this.renderDebug = this.renderDebug.bind(this);\r\n\r\n  }\r\n  componentDidMount() {\r\n    connect.subscribe((e) => {\r\n      switch (e.detail.type) {\r\n        case 'VKWebAppGetUserInfoResult':\r\n          this.setState({ user: e.detail.data });\r\n          var t = this;\r\n          axios.post(`https://salert.info/user/GetUserData`,e.detail.data).then(\r\n            (response)=>{\r\n              axios.get(`https://salert.info/interests/GetInterests/${e.detail.data.id}`, \r\n              ).then((x) => {\r\n                t.renderDebug(x.data, false);\r\n              }).catch(function (x) {\r\n                t.renderDebug(x, true);\r\n              });\r\n            }\r\n            ).catch((response)=>{              \r\n              t.renderDebug(response, true);\r\n            }); \r\n\r\n         \r\n          break;\r\n        default:\r\n          console.log(e.detail.type);\r\n\r\n\r\n      }\r\n    });\r\n    connect.send('VKWebAppGetUserInfo', {});\r\n  }\r\n  renderDebug(str, isCatch) {\r\n    var res = isCatch?'Ошибка ':'Нормальный ответ ';\r\n    if(!isCatch){\r\n      this.setState({userInterests:str})\r\n    }\r\n    this.setState({ debugServerInfo:  res+ JSON.stringify(str), activeStory: { view: 'info', panel: 'info' } });\r\n  }\r\n  onStoryChange(e) {\r\n    var c = this.state.activeStory;\r\n    c.view = e.currentTarget.dataset.view;\r\n    this.setState({ activeStory: c })\r\n  }\r\n\r\n  render() {\r\n    const { user, activeModal, userCards, userInterests } = this.state;\r\n   \r\n\r\n    return (\r\n      <Epic activeStory={this.state.activeStory.view} tabbar={\r\n        <Tabbar>\r\n          <TabbarItem\r\n            onClick={this.onStoryChange}\r\n            selected={this.state.activeStory.view === 'info'}\r\n            data-view='info'\r\n            text=\"Профиль\"\r\n          ><Icon28User /></TabbarItem>\r\n\r\n          <TabbarItem\r\n            onClick={this.onStoryChange}\r\n            selected={this.state.activeStory.view === 'cards'}\r\n            data-view='cards'\r\n            text=\"Карточки\"\r\n          ><Icon28Users /></TabbarItem>\r\n\r\n\r\n          <TabbarItem\r\n            onClick={this.onStoryChange}\r\n            selected={this.state.activeStory.view === 'base'}\r\n            data-view='base'\r\n            text=\"Сообщения\"\r\n          ><Icon28Message /></TabbarItem>\r\n          <TabbarItem\r\n            onClick={this.onStoryChange}\r\n            selected={this.state.activeStory.view === 'settings'}\r\n            data-view='settings'\r\n            text=\"Настройки\"\r\n          ><Icon28Settings /></TabbarItem>\r\n          <TabbarItem\r\n            onClick={this.onStoryChange}\r\n            selected={this.state.activeStory.view === 'debug'}\r\n            data-view='debug'\r\n            text=\"Дебаг\"\r\n          ><Icon28Settings /></TabbarItem>\r\n        </Tabbar>\r\n      }>\r\n        <View id='loader' popout={<ScreenSpinner />} activePanel=\"loader\">\r\n          <Panel id='loader'>\r\n            <PanelHeader>Загрузка...</PanelHeader>\r\n          </Panel>\r\n        </View>\r\n        <Profile activeModal={activeModal} userInterests={userInterests} id='info'  user={user}></Profile>\r\n\r\n\r\n        <View id='cards' activePanel='cards'>\r\n          <Cards id='cards' user={user} userInterests={userInterests} userCards={userCards} debugServerInfo={this.state.debugServerInfo}></Cards>\r\n        </View>\r\n        <View id='debug' activePanel='debug'>\r\n          <Panel id='debug' >\r\n            <PanelHeader>Debug</PanelHeader>\r\n            <Div>\r\n              {activeModal}\r\n              {this.state.debugServerInfo}\r\n            </Div>\r\n\r\n          </Panel>\r\n        </View>\r\n\r\n\r\n\r\n      </Epic>\r\n    )\r\n  }\r\n}\r\n\r\nexport default App;","import 'core-js/es6/map';\r\nimport 'core-js/es6/set';\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport connect from '@vkontakte/vkui-connect';\r\nimport App from './App';\r\n// import registerServiceWorker from './sw';\r\n\r\n// Init VK App\r\nconnect.send('VKWebAppInit', {});\r\n\r\n// Если вы хотите, чтобы ваше веб-приложение работало в оффлайне и загружалось быстрее,\r\n// расскомментируйте строку с registerServiceWorker();\r\n// Но не забывайте, что на данный момент у технологии есть достаточно подводных камней\r\n// Подробнее про сервис воркеры можно почитать тут — https://vk.cc/8MHpmT \r\n// registerServiceWorker();\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}