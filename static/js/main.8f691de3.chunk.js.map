{"version":3,"sources":["js/panels/main/Base.js","js/panels/profile/Profile.js","App.js","index.js"],"names":["images","layerStyle","backgroundColor","position","top","left","width","height","touchStyle","backgroundPosition","backgroundSize","boxShadow","UserPicStyle","backgroundRepeat","overflow","margin","padding","interestsStyle","borderRadius","whiteSpace","interestsDeleteStyle","Cards","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","id","userInterests","debugServerInfo","addPair","user","users","rot","loading","moveBack","shiftX","shiftY","debugInfo","limitOffset","userPicBackgroundColor","sizeX","sizeY","halfX","minchange","popout","startX","startY","renderInterests","bind","assertThisInitialized","onMove","refreshUsers","onEnd","getUsers","setState","window","innerWidth","innerHeight","e","rotation","t","react_default","a","createElement","es6","axios","get","concat","then","x","JSON","stringify","data","catch","_this2","deb","Math","abs","agree","disAgree","first_name","model","currentUserId","choicedUserId","choiced","post","newPair","splice","length","showAlert","setTimeout","el","circleRef","title","text","closeText","_this3","actions","autoclose","onClose","ages","ageFromPreference","ageToPreference","sexPreference","sex","reason","undefined","searchReason","birthDate","Date","now","age","getFullYear","setFullYear","date","bdate","years","birthDateToAge","interests","listItem","forEach","isCool","find","count","push","component","style","objectSpread","isShown","offsetY","lineHeight","_this$state","activePanel","transformOrigin","transition","transform","textAlign","last_name","getYo","getSex","getSexPreference","getReason","backgroundImage","onClick","_this$state2","_this$state3","React","Component","Profile","activeModal","openInterestsModal","deNorm","renderUserInterests","setActiveModal","getInterests","renderModalInterests","initInterests","deleteInterestFromCurrentUser","after","cancel_default","userId","interestId","_this4","addInterestToCurrentUser","add_default","target","value","_this5","modal1","settlingHeight","header","IS_PLATFORM_ANDROID","right","IS_PLATFORM_IOS","done_default","onInput","placeholder","modal","size","before","src","photo_max_orig","showAddInterestsModal","App","debug","activeStory","view","panel","pairs","history","onStoryChange","renderDebug","connect","subscribe","detail","type","response","console","log","send","str","isCatch","res","c","currentTarget","dataset","newPairs","tabbar","selected","data-view","user_default","users_default","label","toString","message_default","settings_default","profile_Profile","Base","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.8f691de3.chunk.js","sourcesContent":["\r\nimport React from 'react';\r\nimport { PanelHeader, Group, Tooltip,  Touch, List, Alert, View, Panel, Div, Button, ScreenSpinner } from '@vkontakte/vkui';\r\nimport '@vkontakte/vkui/dist/vkui.css'\r\nimport axios from 'axios';\r\nconst images = {\r\n\tgirl:\"https://www.big-ben.ru/sites/default/files/reviews/mo.png\",\r\n\tboy: \"https://lh3.googleusercontent.com/XtyURW0mKNnKu_6TzQ5_WpuKF4A7M1oFV6p828eVEWIvTZPtZz2gq5sNM78jpNPMMRmZ\"\r\n};\r\nconst layerStyle = {\r\n\tbackgroundColor: 'rgba(248, 247, 216, 0.1)',\r\n\tposition: 'absolute',\r\n\r\n\ttop: 0,\r\n\tleft: 0,\r\n\twidth: '100%',\r\n\theight: '100%',\r\n\t//transition: 'background-color .3s'\r\n}\r\n// eslint-disable-next-line\r\nconst userTwoStyle = {\r\n\tpadding: 0,\r\n\tbackgroundColor: '#f8f8f8',\r\n}\r\nconst touchStyle = {\r\n\tposition: 'absolute',\r\n\tbackgroundColor: '#f8f8f8',\r\n\tbackgroundPosition: 'center',\r\n\tbackgroundSize: '90%',\r\n\tboxShadow: '0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24)'\r\n\r\n}\r\nconst UserPicStyle = {\r\n\tbackgroundSize: 'contain',\r\n\tbackgroundRepeat: 'no-repeat',\r\n\toverflow: 'hidden',\r\n\tbackgroundPosition: 'center',\r\n\tmargin: 0,\r\n\tpadding: 0\r\n}\r\n\r\nconst interestsStyle = {\r\n\tbackgroundColor: '#29b6f6',\r\n\tborderRadius: 10,\r\n\tpadding: 5,\r\n\tmargin: 5,\r\n\twhiteSpace: 'nowrap'\r\n}\r\nconst interestsDeleteStyle = {\r\n\tbackgroundColor: '#f6b629',\r\n\tborderRadius: 10,\r\n\tpadding: 5,\r\n\tmargin: 5,\r\n\twhiteSpace: 'nowrap'\r\n}// eslint-disable-next-line\r\n\r\n\r\n\r\nclass Cards extends React.Component {\r\n\r\n\tconstructor(props) {\r\n\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tid: props.id,\r\n\t\t\tuserInterests: props.userInterests,\r\n\t\t\tdebugServerInfo: props.debugServerInfo,\r\n\t\t\taddPair: props.addPair,\r\n\t\t\tuser: props.user,\r\n\t\t\tusers: [],\r\n\t\t\trot: 0,\r\n\t\t\tloading: false,\r\n\t\t\tmoveBack: 0.1,\r\n\t\t\tshiftX: 0,\r\n\t\t\tshiftY: 0,\r\n\t\t\tdebugInfo: '',\r\n\t\t\tlimitOffset: 3,\r\n\t\t\tuserPicBackgroundColor: '',\r\n\t\t\tsizeX: 390,\r\n\t\t\tsizeY: 900,\r\n\t\t\thalfX: 390 / 10,\r\n\t\t\tminchange: 2,\r\n\t\t\tpopout: null\r\n\t\t}\r\n\t\tthis.startX = 0;\r\n\t\tthis.startY = 0;\r\n\t\tthis.renderInterests = this.renderInterests.bind(this);\r\n\r\n\t\tthis.onMove = this.onMove.bind(this);\r\n\t\tthis.refreshUsers = this.refreshUsers.bind(this);\r\n\t\tthis.onEnd = this.onEnd.bind(this);\r\n\t\tthis.getUsers = this.getUsers.bind(this);\r\n\t}\r\n\tcomponentDidMount() {\r\n\t\tthis.setState({ sizeX: window.innerWidth, sizeY: window.innerHeight });\r\n\t\tthis.getUsers();\r\n\t}\r\n\r\n\tonMove(e) {\r\n\t\tlet shiftX = this.startX + e.shiftX;\r\n\t\tlet rotation = shiftX / this.state.halfX;\r\n\t\tthis.setState({\r\n\t\t\trot: rotation,\r\n\t\t\tmoveBack: 0.1,\r\n\t\t\tshiftX: shiftX\r\n\t\t});\r\n\t}\r\n\tgetUsers(e) {\r\n\t\tvar t = this;\r\n\t\tt.setState({ popout: <ScreenSpinner /> });\r\n\t\taxios.get(`https://salert.info/users/GetUsersTest/${this.state.user.id}`\r\n\t\t).then((x) => {\r\n\t\t\tt.setState({});\r\n\t\t\tt.setState({ popout: null, debugInfo: `done-${JSON.stringify(x.data)}`, users: x.data });\r\n\t\t}).catch(function (x) {\r\n\t\t\tt.setState({ popout: null, debugInfo: 'Ошибка ' + JSON.stringify(x) });\r\n\t\t});\r\n\t}\r\n\tonEnd(e) {\r\n\t\tvar deb = this.state.debugInfo;\r\n\t\tvar users = this.state.users;\r\n\t\tif (Math.abs(this.state.rot) < this.state.limitOffset) {\r\n\t\t\tthis.setState({ rot: 0, moveBack: 0.5, shiftX: 0, shiftY: 0 });\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (this.agree || this.disAgree) {\r\n\t\t\tif (this.agree) {\r\n\r\n\t\t\t\tdeb += `+${this.state.users[0].first_name}`;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tdeb += `-${this.state.users[0].first_name}`;\r\n\t\t\t}\r\n\t\t\tvar model = {\r\n\t\t\t\tcurrentUserId: this.state.user.id,\r\n\t\t\t\tchoicedUserId: users[0].id,\r\n\t\t\t\tchoiced: this.agree\r\n\t\t\t};\r\n\t\t\tvar t = this;\r\n\t\t\tvar rotation = t.state.rot > 0 ? 15 : -15;\r\n\t\t\tthis.setState({ userPicBackgroundColor: '', rot: rotation, debugInfo: deb, moveBack: 0.1, shiftX: 0, shiftY: 0 });\r\n\r\n\t\t\taxios.post('https://salert.info/user/SetChoice', model).then((x) => {\r\n\t\t\t\tif (x.data === true) {\r\n\t\t\t\t\tvar newPair = users[0];\r\n\t\t\t\t\tt.state.addPair(newPair);\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t\tusers.splice(0, 1);\r\n\r\n\t\t\t\tt.setState({ rot: 0, users: users, moveBack: 0 });\r\n\t\t\t\tif (users.length === 0) {\r\n\t\t\t\t\tt.getUsers();\r\n\t\t\t\t}\r\n\t\t\t\t//this.showAlert(\"\",JSON.stringify(users),\"\");\r\n\r\n\t\t\t}).catch(function (x) {\r\n\t\t\t\tt.showAlert(\"Ошибка\", JSON.stringify(x), \"\");\r\n\r\n\t\t\t});\r\n\t\t}\r\n\t\telse {\r\n\t\t\tvar rotation = this.state.rot > 0 ? 15 : -15;\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tusers = users.splice(0, 1);\r\n\t\t\t\tthis.setState({ rot: 0, users: users, moveBack: 0 });\r\n\t\t\t}, 100)\r\n\t\t}\r\n\t}\r\n\trefreshUsers(e) {\r\n\t\tthis.getUsers();\r\n\t}\r\n\r\n\tgetCircleRef(el) { this.circleRef = el };\r\n\r\n\tget agree() {\r\n\t\tconst { shiftX, limitOffset } = this.state;\r\n\t\treturn Math.abs(shiftX) > limitOffset && shiftX > 0;\r\n\t}\r\n\tget disAgree() {\r\n\t\tconst { shiftX, limitOffset } = this.state;\r\n\t\treturn Math.abs(shiftX) > limitOffset && shiftX < 0;\r\n\t}\r\n\tshowAlert(title, text, closeText) {\r\n\t\tthis.setState({\r\n\t\t\tpopout:\r\n\t\t\t\t<Alert\r\n\t\t\t\t\tactions={[{\r\n\t\t\t\t\t\ttitle: closeText,\r\n\t\t\t\t\t\tautoclose: true,\r\n\t\t\t\t\t}]}\r\n\t\t\t\t\tonClose={(e) => { this.setState({ popout: null }) }}\r\n\t\t\t\t>\r\n\t\t\t\t\t<h2>{title}</h2>\r\n\t\t\t\t\t<p>{text}</p>\r\n\t\t\t\t</Alert>\r\n\t\t});\r\n\t}\r\n\tgetSexPreference(user) {\r\n\t\tvar ages = user.ageFromPreference?` от ${user.ageFromPreference}`:'';\r\n\t\tages += user.ageToPreference?` до ${user.ageToPreference}`:'';\r\n\r\n\r\n\t\tvar preference = user.sexPreference == 0 ? `хоть кого ${ages}` : user.sexPreference == 1 ? `женщиу ${ages}` : `мужчину ${ages}`;\r\n\t\treturn preference;\r\n\t}\r\n\tgetSex(user) {\r\n\t\tvar sex = user.sex == 0 ? \"не указан\" : user.sex == 1 ? \"женский\" : \"мужской\";\r\n\t\treturn sex;\r\n\t}\r\n\tgetReason(user) {\r\n\t\tvar reason;\r\n\t\tif (user.searchReason == undefined) {\r\n\t\t\treturn \"неизвестно вообще чего\";\r\n\t\t}\r\n\t\tswitch (user.searchReason) {\r\n\t\t\tcase 0: reason = \"общения\"; break;\r\n\t\t\tcase 1: reason = \"дружбы\"; break;\r\n\t\t\tcase 2: reason = \"любви\"; break;\r\n\t\t\tcase 3: reason = \"секса\"; break;\r\n\t\t\tdefault: reason = \"неизвестно вообще чего\"; break;\r\n\t\t}\r\n\t\treturn reason;\r\n\t}\r\n\tbirthDateToAge(birthDate) {\r\n\t\tbirthDate = new Date(birthDate);\r\n\t\tvar now = new Date(), age = now.getFullYear() - birthDate.getFullYear();\r\n\r\n\r\n\r\n\t\treturn now.setFullYear(1972) < birthDate.setFullYear(1972) ? age - 1 : age;\r\n\r\n\t}\r\n\r\n\tgetYo(user) {\r\n\t\tvar date  = new Date(user.bdate + \"Z\");\r\n\t\tvar years = this.birthDateToAge(date);\r\n\t\treturn `${date.getFullYear()}, ${years} лет`;\r\n\t}\r\n\trenderInterests(interests) {\r\n\t\tvar listItem;// eslint-disable-next-line\r\n\t\tlistItem = [];\r\n\t\tvar userInterests = this.state.userInterests;\r\n\t\tvar count = 0;\r\n\t\tif (interests != undefined) {\r\n\t\t\tinterests.forEach((e) => {\r\n\t\t\t\tvar isCool = userInterests.find((x) => { return x.id === e.id });\r\n\t\t\t\tif(isCool){\r\n\t\t\t\t\tcount++;\r\n\t\t\t\t}\r\n\t\t\t\tlistItem.push(<Button component=\"span\" style={isCool ? { ...interestsDeleteStyle } : { ...interestsStyle }}>{e.title}</Button>);\r\n\r\n\t\t\t});\r\n\t\t}\r\n\t\telse {\r\n\t\t\tlistItem = <b>Нет интересов</b>\r\n\t\t}\r\n\t\treturn <Div>\r\n\t\t\t<Tooltip\r\n                text=\"У нас тут brand new функционал подвезли. Зацените!\"\r\n                isShown={true}\r\n                onClose={() => {}}\r\n                offsetY={10}\r\n              >\r\n\t\t\t<List style={{ lineHeight: '2.5' }}> {listItem}</List>\r\n\t\t\t</Tooltip>\r\n\t\t</Div>\r\n\t};\r\n\r\n\r\n\trender() { // eslint-disable-next-line\r\n\t\tconst { id, popout, users, sizeX, sizeY, moveBack, debugInfo, userPicBackgroundColor, rot } = this.state;\r\n\t\tconst user = users[0];\r\n\t\treturn (\r\n\t\t\t<View id={id} activePanel={id} popout={popout}>\r\n\t\t\t\t<Panel id={id} style={{ overflow: 'hidden' }}>\r\n\t\t\t\t\t<PanelHeader>{rot}</PanelHeader>\r\n\t\t\t\t\t<Group>\r\n\t\t\t\t\t\t{users.length !== 0 && users[0] !== undefined &&\r\n\t\t\t\t\t\t\t<Touch\r\n\t\t\t\t\t\t\t\tonMove={this.onMove}\r\n\t\t\t\t\t\t\t\tonEnd={this.onEnd}\r\n\r\n\t\t\t\t\t\t\t\tstyle={{ ...touchStyle, transformOrigin: `center ${sizeY * 3}px`, width: sizeX, height: sizeY, transition: `transform ${moveBack}s ease-out`, transform: `rotate(${rot}deg)` }}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Div style={{ height: '100%', padding: 0 }}>\r\n\t\t\t\t\t\t\t\t\t<div style={{ ...layerStyle, backgroundColor: userPicBackgroundColor, }}></div>\r\n\t\t\t\t\t\t\t\t\t<Div>\r\n\t\t\t\t\t\t\t\t\t<h1 style={{ textAlign: 'center' }}>\r\n\t\t\t\t\t\t\t\t\t\t<strong>{user.first_name} {user.last_name}</strong>\r\n\t\t\t\t\t\t\t\t\t</h1>\r\n\t\t\t\t\t\t\t\t\t<h5>{this.getYo(user)}</h5>\r\n\t\t\t\t\t\t\t\t\t<h5>Пол {this.getSex(user)}, ищет {this.getSexPreference(user)} для {this.getReason(user)}</h5>\r\n\t\t\t\t\t\t\t\t\t</Div>\r\n\r\n\r\n\t\t\t\t\t\t\t\t\t<Div style={{ ...UserPicStyle, width: sizeX, height: sizeY / 4, backgroundImage: `url(${user.sex ==1?images.girl:images.boy})` }}></Div>\r\n\r\n\t\t\t\t\t\t\t\t\t{this.renderInterests(user.interests)}\r\n\r\n\t\t\t\t\t\t\t\t</Div>\r\n\t\t\t\t\t\t\t</Touch>\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t{/*users.length !== 0 && users[1] !== undefined &&\r\n\t\t\t\t\t\t<Div style={{ ...userTwoStyle, height: sizeY }}>\r\n\t\t\t\t\t\t\t<Div style={{ ...UserPicStyle, width: sizeX, height: sizeY / 2, backgroundImage: `url(${image})` }}></Div>\r\n\t\t\t\t\t\t\t<h1 style={{ textAlign: 'center' }}>\r\n\t\t\t\t\t\t\t\t<strong>{users[1].first_name} {users[1].last_name}</strong>\r\n\t\t\t\t\t\t\t</h1>\r\n\t\t\t\t\t\t\t{this.renderInterests(users[1].interests)}\r\n\t\t\t\t\t\t</Div>\r\n\t\t\t\t\t*/}\r\n\t\t\t\t\t\t{users.length === 0 &&\r\n\t\t\t\t\t\t\t<Group>\r\n\t\t\t\t\t\t\t\t<h1>Пока что больше нету :( Можешь попытаться обновить, но сейчас это не особо работает бро </h1>\r\n\t\t\t\t\t\t\t\t<Button onClick={this.refreshUsers}>Сбросить</Button>\r\n\t\t\t\t\t\t\t\t<Div>{debugInfo}</Div>\r\n\t\t\t\t\t\t\t</Group>\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</Group>\r\n\r\n\t\t\t\t</Panel>\r\n\t\t\t</View>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default Cards;","import React from 'react';\r\n// eslint-disable-next-line\r\nimport { Panel, Group, Button, Div, FormLayoutGroup, Radio, Alert, ListItem, Checkbox, Cell, FormLayout, List, HeaderButton, ModalPageHeader, ModalPage, View, ModalRoot, Avatar, PanelHeader, Input, Select, ScreenSpinner } from '@vkontakte/vkui';\r\nimport Icon16Add from '@vkontakte/icons/dist/16/add';\r\nimport Icon16Cancel from '@vkontakte/icons/dist/16/cancel';\r\nimport axios from 'axios';\r\nimport { IS_PLATFORM_ANDROID, IS_PLATFORM_IOS } from '@vkontakte/vkui/dist/lib/platform';\r\nimport Icon24Done from '@vkontakte/icons/dist/24/done';\r\nimport '@vkontakte/vkui/dist/vkui.css'\r\nconst USER_INTERESTS_MODAL = 'user_interests';\r\nconst USER_MAXIMUM_INTERESTS = 10;\r\n\r\nconst interestsStyle = {\r\n\tbackgroundColor: '#29b6f6',\r\n\tborderRadius: 10,\r\n\tpadding: 5,\r\n\tmargin: 5,\r\n\twhiteSpace: 'nowrap'\r\n}\r\nconst interestsDeleteStyle = {\r\n\tbackgroundColor: '#f6b629',\r\n\tborderRadius: 10,\r\n\tpadding: 5,\r\n\tmargin: 5,\r\n\twhiteSpace: 'nowrap'\r\n}// eslint-disable-next-line\r\nconst interestsInListStyle = {\r\n\tbackgroundColor: '#29b6f6',\r\n\tborderRadius: 10\r\n\r\n}\r\n\r\nclass Profile extends React.Component {\r\n\r\n\tconstructor(props) {\r\n\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tuserInterests: props.userInterests,\r\n\t\t\tactiveModal: null,\r\n\t\t\topenInterestsModal: props.openInterestsModal,\r\n\t\t\tid: props.id,\r\n\t\t\tuser: props.user,\r\n\t\t\tinterests: [],\r\n\t\t\tdebugInfo: \"Тут дебаг\",\r\n\t\t\tdeNorm: \"Ну тесты\",\r\n\t\t\tpopout:null\r\n\t\t}\r\n\t\tthis.renderUserInterests = this.renderUserInterests.bind(this);\r\n\t\tthis.setActiveModal = this.setActiveModal.bind(this);\r\n\t\tthis.getInterests = this.getInterests.bind(this);\r\n\t\tthis.renderModalInterests = this.renderModalInterests.bind(this);\r\n\t}\r\n\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.initInterests();\r\n\t}\r\n\r\n\trenderUserInterests() {\r\n\t\tvar listItem = [];\r\n\t\tif (this.state.userInterests !== undefined && this.state.userInterests.length > 0) {\r\n\t\t\tthis.state.userInterests.forEach((e) => {\r\n\t\t\t\tlistItem.push(<Button style={{ ...interestsDeleteStyle }} onClick={() => this.deleteInterestFromCurrentUser(e.id)} after={<Icon16Cancel />}>{e.title}</Button>);\r\n\t\t\t});\r\n\t\t}\r\n\t\telse {\r\n\t\t\tlistItem = <b>Нет интересов</b>\t\t\t\r\n\t\t}\r\n\t\treturn <Div\r\n\t\t\tstyle={{ padding:10,  lineHeight: '2.5' }}> {listItem}\r\n\t\t</Div>\r\n\t}\t\r\n\tshowAlert (title, text, closeText) {\r\n\t\tthis.setState({ popout:\r\n\t\t  <Alert\r\n\t\t\tactions={[{\r\n\t\t\t  title: closeText,\r\n\t\t\t  autoclose: true,\r\n\t\t\t}]}\r\n\t\t\tonClose={ (e)=>{this.setState({popout:null})}}\r\n\t\t  >\r\n\t\t\t<h2>{title}</h2>\r\n\t\t\t<p>{text}</p>\r\n\t\t  </Alert>\r\n\t\t});\r\n\t  }\r\n\tshowAddInterestsModal(){\r\n\t\tif(this.state.userInterests.length < USER_MAXIMUM_INTERESTS){\r\n\r\n\t\t\tthis.setActiveModal(USER_INTERESTS_MODAL);\r\n\t\t}\r\n\t\telse{\r\n\t\t\tthis.showAlert(\"Ошибка\", `Нельзя добавить более ${USER_MAXIMUM_INTERESTS} интересов`, \"Закрыть\");\r\n\t\t}\r\n\t}\t\r\n\tsetActiveModal(e) {\r\n\t\tthis.setState({ activeModal: e })\r\n\t}\r\n\taddInterestToCurrentUser(id) {\r\n\t\tif (this.state.userInterests.length < USER_MAXIMUM_INTERESTS) {\r\n\t\t\tvar t = this;\r\n\t\t\tthis.setState({ popout: <ScreenSpinner /> });\r\n\t\t\tvar model = {\r\n\t\t\t\tuserId: this.state.user.id,\r\n\t\t\t\tinterestId: id\r\n\t\t\t}\r\n\t\t\taxios.post(`https://salert.info/interests/AddInterest`, model\r\n\t\t\t).then((x) => {\r\n\t\t\t\tt.setState({ popout: null, debugInfo: `done-${JSON.stringify(x.data)}`, userInterests: x.data });\r\n\t\t\t}).catch(function (x) {\r\n\t\t\t\tt.setState({ popout: null, debugInfo: 'Ошибка ' + JSON.stringify(x) });\r\n\t\t\t});\t\t\r\n\t\t}\t\t\r\n\t\telse{\r\n\t\t\tthis.setActiveModal(null);\r\n\t\t\tthis.showAlert(\"Ошибка\", \"Нельзя добавить более 10 интересов\", \"Закрыть\");\r\n\t\t}\r\n\t}\r\n\r\n\tdeleteInterestFromCurrentUser(id) {\r\n\t\tvar t = this;\r\n\t\tvar model = {\r\n\t\t\tuserId: this.state.user.id,\r\n\t\t\tinterestId: id\r\n\t\t}\r\n\t\tthis.setState({ popout: <ScreenSpinner /> });\r\n\t\taxios.post(`https://salert.info/interests/DeleteInterest`, model\r\n\t\t).then((x) => {\r\n\t\t\tt.setState({ popout: null, debugInfo: `done-${JSON.stringify(x.data)}`, userInterests: x.data });\r\n\t\t}).catch(function (x) {\r\n\t\t\tt.setState({ popout: null, debugInfo: 'Ошибка ' + JSON.stringify(x) });\r\n\t\t});\r\n\t}\r\n\trenderModalInterests() {\r\n\t\tif (this.state.interests == null) {\r\n\t\t\treturn \"Нет результатов\"\r\n\t\t}\r\n\t\telse {\r\n\t\t\tvar listItem = [];\r\n\t\t\tthis.state.interests.forEach((e) => {\r\n\t\t\t\tif (this.state.userInterests && this.state.userInterests.find((x) => { return x.id === e.id }) !== undefined) {\r\n\t\t\t\t\tlistItem.push(<Button style={{ ...interestsDeleteStyle }} onClick={() => this.deleteInterestFromCurrentUser(e.id)} after={<Icon16Cancel />}>{e.title}</Button>);\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tlistItem.push(<Button style={{ ...interestsStyle }} onClick={() => this.addInterestToCurrentUser(e.id)} after={<Icon16Add />}>{e.title}</Button>);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\treturn <Div>{listItem}</Div>\r\n\t\t}\r\n\t}\r\n\tinitInterests(e) {\r\n\t\tvar t = this;\r\n\t\taxios.get(`https://salert.info/interests/GetTopInterests`,\r\n\t\t).then((x) => {\r\n\t\t\tt.setState({ debugInfo: JSON.stringify(x.data), interests: x.data });\r\n\t\t}).catch(function (x) {\r\n\t\t\tt.setState({ debugInfo: 'Ошибка ' + JSON.stringify(x) });\r\n\t\t});\r\n\r\n\r\n\t}\r\n\tgetInterests(e) {\r\n\t\tif (e.target.value.length < 2) {\r\n\t\t\tthis.setState({ interests: null })\r\n\t\t\treturn;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tvar t = this;\r\n\t\t\taxios.get(`https://salert.info/interests/SearchFromQuery?str=${e.target.value}`,\r\n\t\t\t).then((x) => {\r\n\t\t\t\tt.setState({ debugInfo: JSON.stringify(x.data), interests: x.data });\r\n\t\t\t}).catch(function (x) {\r\n\t\t\t\tt.setState({ debugInfo: 'Ошибка ' + JSON.stringify(x) });\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t}\r\n\trender() { // eslint-disable-next-line\r\n\t\tconst { id, user, popout, activeModal, debugInfo, userInterests, interests, deNorm } = this.state;\r\n\t\tconst modal1 =\r\n\t\t\t<ModalRoot activeModal={activeModal}>\r\n\t\t\t\t<ModalPage popout={popout}\r\n\t\t\t\t\tid={USER_INTERESTS_MODAL}\r\n\t\t\t\t\tsettlingHeight={100}\r\n\t\t\t\t\theader={\r\n\t\t\t\t\t\t<ModalPageHeader\r\n\t\t\t\t\t\t\tleft={IS_PLATFORM_ANDROID && <HeaderButton onClick={() => { this.setActiveModal(null) }}><Icon16Cancel /></HeaderButton>}\r\n\t\t\t\t\t\t\tright={<HeaderButton onClick={() => { this.setActiveModal(null) }}>{IS_PLATFORM_IOS ? 'Готово' : <Icon24Done />}</HeaderButton>}\r\n\t\t\t\t\t\t>Фильтры</ModalPageHeader>\r\n\t\t\t\t\t}>\r\n\r\n\t\t\t\t\t<FormLayout>\r\n\t\t\t\t\t\t<this.renderModalInterests></this.renderModalInterests>\r\n\t\t\t\t\t\t<FormLayoutGroup top=\"Поиск\" onInput={(e) => { this.getInterests(e) }}>\r\n\t\t\t\t\t\t\t<Input placeholder=\"Начните вводить\" />\r\n\t\t\t\t\t\t</FormLayoutGroup>\r\n\t\t\t\t\t</FormLayout>\r\n\t\t\t\t</ModalPage>\r\n\t\t\t</ModalRoot>\r\n\r\n\t\treturn (\r\n\t\t\t<View id={id} popout={popout} modal={modal1} activePanel={id}>\r\n\t\t\t\t<Panel id={id} >\r\n\t\t\t\t\t<PanelHeader>\r\n\t\t\t\t\t\tПрофиль\r\n\t\t\t\t</PanelHeader>\r\n\t\t\t\t\t{user &&\r\n\t\t\t\t\t\t<Group title=\"Общие данные\">\r\n\t\t\t\t\t\t\t<Cell\r\n\t\t\t\t\t\t\t\tsize=\"m\"\r\n\t\t\t\t\t\t\t\tbefore={<Avatar src={user.photo_max_orig} size={80} />}>\r\n\t\t\t\t\t\t\t\t{user.first_name} {user.last_name}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</Cell>\r\n\t\t\t\t\t\t</Group>\r\n\t\t\t\t\t}\r\n\t\t\t\t\t{user &&\r\n\t\t\t\t\t\t<Group title={`Интересы (${!userInterests ? 0 : userInterests.length}\\\\${USER_MAXIMUM_INTERESTS})`}>\r\n\t\t\t\t\t\t\t{userInterests &&\r\n\t\t\t\t\t\t\t\t<this.renderUserInterests></this.renderUserInterests>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t<Cell>\r\n\t\t\t\t\t\t\t\t<Button  before={<Icon16Add />} onClick={() => { this.showAddInterestsModal()}} size=\"l\">Добавить интересы</Button>\r\n\t\t\t\t\t\t\t</Cell>\t\r\n\t\t\t\t\t\t</Group>\r\n\t\t\t\t\t}\r\n\t\t\t\t</Panel>\r\n\t\t\t</View>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default Profile;","import Icon28User from '@vkontakte/icons/dist/28/user';\r\nimport Icon28Settings from '@vkontakte/icons/dist/28/settings';\r\nimport Icon28Message from '@vkontakte/icons/dist/28/message';\r\nimport Icon28Users from '@vkontakte/icons/dist/28/users';\r\nimport React from 'react';\r\nimport connect from '@vkontakte/vkui-connect';\r\nimport axios from 'axios';\r\n// eslint-disable-next-line\r\nimport {\r\n  View, Div, PanelHeader, Epic, ModalRoot, ModalPage, ModalPageHeader, List, Cell, Avatar, HeaderButton, Group,\r\n  Tabbar, ScreenSpinner, Panel, TabbarItem\r\n} from '@vkontakte/vkui';\r\n// eslint-disable-next-line\r\nimport { IS_PLATFORM_ANDROID, IS_PLATFORM_IOS } from '@vkontakte/vkui/dist/lib/platform';\r\nimport '@vkontakte/vkui/dist/vkui.css'\r\nimport Cards from './js/panels/main/Base';\r\nimport Profile from './js/panels/profile/Profile';\r\n\r\n\r\nclass App extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      debug: true,\r\n      activeStory: { view: 'loader', panel: 'loader' },\r\n      activeModal: null,\r\n      pairs:[],\r\n      history: [{\r\n        view: 'loader',\r\n        panel: 'loader'\r\n      }],\r\n      user: undefined,\r\n      userInterests: [],\r\n      debugServerInfo: 'default',\r\n    };\r\n    this.onStoryChange = this.onStoryChange.bind(this);\r\n    this.renderDebug = this.renderDebug.bind(this);\r\n\r\n  }\r\n  componentDidMount() {\r\n    connect.subscribe((e) => {\r\n      switch (e.detail.type) {\r\n        case 'VKWebAppGetUserInfoResult':\r\n          this.setState({ user: e.detail.data });\r\n          var t = this;\r\n          axios.post(`https://salert.info/user/GetUserData`, e.detail.data).then(\r\n            (response) => {\r\n              axios.get(`https://salert.info/interests/GetInterests/${e.detail.data.id}`,\r\n              ).then((x) => {\r\n                t.renderDebug(x.data, false);\r\n              }).catch(function (x) {\r\n                t.renderDebug(x, true);\r\n              });\r\n            }\r\n          ).catch((response) => {\r\n            t.renderDebug(response, true);\r\n          });\r\n          break;\r\n        default:\r\n          console.log(e.detail.type);\r\n      }\r\n    });\r\n    connect.send('VKWebAppGetUserInfo', {});\r\n  }\r\n  renderDebug(str, isCatch) {\r\n    var res = isCatch ? 'Ошибка ' : 'Нормальный ответ ';\r\n    if (!isCatch) {\r\n      this.setState({ userInterests: str })\r\n    }\r\n    this.setState({ debugServerInfo: res + JSON.stringify(str), activeStory: { view: 'info', panel: 'info' } });\r\n  }\r\n  onStoryChange(e) {\r\n    var c = this.state.activeStory;\r\n    c.view = e.currentTarget.dataset.view;\r\n    this.setState({ activeStory: c })\r\n  }\r\n  addPair(user){\r\n    var newPairs = this.state.pairs;\r\n    newPairs.push(user);\r\n\r\n    this.setState({pairs:newPairs});\r\n  }\r\n\r\n  render() {\r\n    const { user, pairs, userInterests } = this.state;\r\n\r\n    return (\r\n      <Epic activeStory={this.state.activeStory.view} tabbar={\r\n        <Tabbar>\r\n          <TabbarItem\r\n            onClick={this.onStoryChange}\r\n            selected={this.state.activeStory.view === 'info'}\r\n            data-view='info'\r\n            text=\"Профиль\"\r\n          ><Icon28User /></TabbarItem>\r\n\r\n          <TabbarItem\r\n            onClick={this.onStoryChange}\r\n            selected={this.state.activeStory.view === 'cards'}\r\n            data-view='cards'\r\n            text=\"Карточки\"            \r\n          ><Icon28Users /></TabbarItem>\r\n\r\n\r\n          <TabbarItem\r\n            onClick={this.onStoryChange}\r\n            selected={this.state.activeStory.view === 'base'}\r\n            data-view='base'\r\n            label={pairs.length.toString()}\r\n            text=\"Сообщения\"\r\n          ><Icon28Message /></TabbarItem>\r\n          <TabbarItem\r\n            onClick={this.onStoryChange}\r\n            selected={this.state.activeStory.view === 'settings'}\r\n            data-view='settings'\r\n            text=\"Настройки\"\r\n          ><Icon28Settings /></TabbarItem>\r\n          <TabbarItem\r\n            onClick={this.onStoryChange}\r\n            selected={this.state.activeStory.view === 'debug'}\r\n            data-view='debug'\r\n            text=\"Дебаг\"\r\n          ><Icon28Settings /></TabbarItem>\r\n        </Tabbar>\r\n      }>\r\n        <View id='loader' popout={<ScreenSpinner />} activePanel=\"loader\">\r\n          <Panel id='loader'>\r\n            <PanelHeader>Загрузка...</PanelHeader>\r\n          </Panel>\r\n        </View>\r\n        <Profile userInterests={userInterests} id='info' user={user}></Profile>\r\n        <Cards id='cards' addPair={this.addPair} user={user} userInterests={userInterests} debugServerInfo={this.state.debugServerInfo}></Cards>\r\n\r\n        <View id='debug' activePanel='debug'>\r\n          <Panel id='debug' >\r\n            <PanelHeader>Debug</PanelHeader>\r\n            <Div>\r\n              {this.state.debugServerInfo}\r\n            </Div>\r\n\r\n          </Panel>\r\n        </View>\r\n\r\n\r\n\r\n      </Epic>\r\n    )\r\n  }\r\n}\r\n\r\nexport default App;","import 'core-js/es6/map';\r\nimport 'core-js/es6/set';\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport connect from '@vkontakte/vkui-connect';\r\nimport App from './App';\r\n// import registerServiceWorker from './sw';\r\n\r\n// Init VK App\r\nconnect.send('VKWebAppInit', {});\r\n\r\n// Если вы хотите, чтобы ваше веб-приложение работало в оффлайне и загружалось быстрее,\r\n// расскомментируйте строку с registerServiceWorker();\r\n// Но не забывайте, что на данный момент у технологии есть достаточно подводных камней\r\n// Подробнее про сервис воркеры можно почитать тут — https://vk.cc/8MHpmT \r\n// registerServiceWorker();\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}